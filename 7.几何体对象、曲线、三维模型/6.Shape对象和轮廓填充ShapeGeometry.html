<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body{
      margin: 0;
      overflow: hidden;
    }
  </style>
  <script src="../build/three.js"></script>
  <script src="../build/OrbitControls.js"></script>
</head>
<body>
  <script>
    // 创建场景对象
    var scene=new THREE.Scene();

    // var points = [
    //   new THREE.Vector2(-50, -50),
    //   new THREE.Vector2(-60, 0),
    //   new THREE.Vector2(0, 50),
    //   new THREE.Vector2(60, 0),
    //   new THREE.Vector2(50, -50),
    //   new THREE.Vector2(-50, -50),
    // ]
    // // 通过顶点定义轮廓
    // var shape = new THREE.Shape(points);
    // shape.absarc(0,0,100,0,2*Math.PI);
    // // shape可以理解为一个需要填充轮廓
    // // 所谓填充：ShapeGeometry算法利用顶点计算出三角面face3数据填充轮廓
    // var geometry = new THREE.ShapeGeometry(shape, 25);
    // var material=new THREE.MeshPhongMaterial({
    //     color:0x0000ff,//三角面颜色
    //     side:THREE.DoubleSide//两面可见
    // });//材质对象
    // // material.wireframe = true;//线条模式渲染(查看细分数)
    // var mesh=new THREE.Mesh(geometry,material);//旋转网格模型对象
    // scene.add(mesh);//旋转网格模型添加到场景中
    
    // // 通过shpae基类path的方法绘制轮廓（本质也是生成顶点）
    // var shape = new THREE.Shape();
    // // 四条直线绘制一个矩形轮廓
    // shape.moveTo(0,0);//起点
    // shape.lineTo(0,100);//第2点
    // shape.lineTo(100,100);//第3点
    // shape.lineTo(100,0);//第4点
    // shape.lineTo(0,0);//第5点

    // var geometry=new THREE.ShapeGeometry(shape,25);
    // var material=new THREE.MeshPhongMaterial({
    //   color:0x0000ff,
    // });
    // // material.wireframe=true;
    // var mesh=new THREE.Mesh(geometry,material);
    // scene.add(mesh)

    // var shape = new THREE.Shape();
    // var R=50;
    // shape.absarc(0,0,R,0,Math.PI);
    // shape.lineTo(-R,-100);
    // shape.absarc(0,-100,R,Math.PI,2*Math.PI);
    // shape.lineTo(R,0)

    // var geometry=new THREE.ShapeGeometry(shape,30);
    // var material=new THREE.MeshPhongMaterial({
    //   color:0x0000ff,
    // });
    // // material.wireframe=true;
    // var mesh=new THREE.Mesh(geometry,material);
    // scene.add(mesh)

    // 一个外轮廓圆弧嵌套三个内圆弧轮廓
    // var shape = new THREE.Shape(); //Shape对象
    // //外轮廓
    // shape.arc(0, 0, 100, 0, 2 * Math.PI);
    // // 内轮廓1
    // var path1 = new THREE.Path();
    // path1.arc(0, 0, 40, 0, 2 * Math.PI);
    // // 内轮廓2
    // var path2 = new THREE.Path();
    // path2.arc(80, 0, 10, 0, 2 * Math.PI);
    // // 内轮廓3S
    // var path3 = new THREE.Path();
    // path3.arc(-80, 0, 10, 0, 2 * Math.PI);
    // //三个内轮廓分别插入到holes属性中
    // shape.holes.push(path1, path2, path3);

    // 矩形嵌套矩形或圆弧
    // var shape=new THREE.Shape();//Shape对象
    // //外轮廓
    // shape.moveTo(0,0);//起点
    // shape.lineTo(0,100);//第2点
    // shape.lineTo(100,100);//第3点
    // shape.lineTo(100,0);//第4点
    // shape.lineTo(0,0);//第5点

    // //内轮廓
    // var path=new THREE.Path();//path对象
    // // path.arc(50,50,40,0,2*Math.PI);//圆弧
    // path.moveTo(20,20);//起点
    // path.lineTo(20,80);//第2点
    // path.lineTo(80,80);//第3点
    // path.lineTo(80,20);//第4点
    // path.lineTo(20,20);//第5点
    // shape.holes.push(path);//设置内轮廓

    // 轮廓对象1
    // var shape=new THREE.Shape();
    // shape.arc(-50,0,30,0,2*Math.PI);
    // // 轮廓对象2
    // var shape2=new THREE.Shape();
    // shape2.arc(50,0,30,0,2*Math.PI);
    // // 轮廓对象3
    // var shape3=new THREE.Shape();
    // shape3.arc(0,50,30,0,2*Math.PI);

    // // var geometry=new THREE.ShapeGeometry(shape,30);
    // var geometry = new THREE.ShapeGeometry([shape,shape2,shape3], 30);
    // var material=new THREE.MeshPhongMaterial({
    //   color:0x0000ff,
    // });
    // // material.wireframe=true;
    // var mesh=new THREE.Mesh(geometry,material);
    // scene.add(mesh)

    //地图轮廓-河南
    var arr = [
      [110.3906, 34.585],
      [110.8301, 34.6289],
      [111.1816, 34.8047],
      [111.5332, 34.8486],
      [111.7969, 35.0684],
      [112.0605, 35.0684],
      [112.0605, 35.2881],
      [112.7637, 35.2002],
      [113.1152, 35.332],
      [113.6426, 35.6836],
      [113.7305, 36.3428],
      [114.873, 36.123],
      [114.9609, 36.0791],
      [115.1367, 36.2109],
      [115.3125, 36.0791],
      [115.4883, 36.167],
      [115.3125, 35.8154],
      [116.1035, 36.0791],
      [115.4883, 35.7275],
      [115.2246, 35.4199],
      [115.0488, 35.376],
      [114.7852, 35.0684],
      [115.4004, 34.8486],
      [115.5762, 34.585],
      [116.1914, 34.585],
      [116.1914, 34.4092],
      [116.543, 34.2773],
      [116.6309, 33.9258],
      [116.1914, 33.7061],
      [116.0156, 33.9697],
      [115.6641, 34.0576],
      [115.5762, 33.9258],
      [115.5762, 33.6621],
      [115.4004, 33.5303],
      [115.3125, 33.1787],
      [114.873, 33.1348],
      [114.873, 33.0029],
      [115.1367, 32.8711],
      [115.2246, 32.6074],
      [115.5762, 32.4316],
      [115.8398, 32.5195],
      [115.9277, 31.7725],
      [115.4883, 31.6846],
      [115.4004, 31.4209],
      [115.2246, 31.4209],
      [115.1367, 31.5967],
      [114.7852, 31.4648],
      [114.6094, 31.5527],
      [114.5215, 31.7725],
      [114.1699, 31.8604],
      [113.9941, 31.7725],
      [113.8184, 31.8604],
      [113.7305, 32.4316],
      [113.4668, 32.2998],
      [113.2031, 32.4316],
      [112.3242, 32.3438],
      [111.5332, 32.6074],
      [111.0059, 33.2666],
      [111.0059, 33.5303],
      [110.6543, 33.8379],
      [110.6543, 34.1455],
      [110.4785, 34.2334],
      [110.3906, 34.585]
    ];
    var points = [];
    // 转化为Vector2构成的顶点数组
    arr.forEach(elem => {
      points.push(new THREE.Vector2(elem[0],elem[1]))
    });
    // 样条曲线生成更多的点
    var SplineCurve = new THREE.SplineCurve(points)
    var shape = new THREE.Shape(SplineCurve.getPoints(300));
    var geometry = new THREE.ShapeGeometry(shape);
    geometry.center();//几何体居中
    geometry.scale(60,60,60);//几何体缩放
    var material = new THREE.MeshPhongMaterial({
      color: 0x0000ff,
      side: THREE.DoubleSide //两面可见
    }); //材质对象
    var mesh = new THREE.Mesh(geometry, material); //网格模型对象
    scene.add(mesh)


    //光源设置
    var point=new THREE.PointLight(0xffffff);
    point.position.set(400,200,300)
    scene.add(point)
    //环境光
    var ambient=new THREE.AmbientLight(0x444444)
    scene.add(ambient)

    // 辅助坐标系  参数250表示坐标系大小，可以根据场景大小去设置
    var axisHelper = new THREE.AxisHelper(250);
    scene.add(axisHelper);

    //相机设置
    var width=window.innerWidth;
    var height=window.innerHeight;
    var k=width/height;
    var s=200;
    //创建相机对象
    var camera=new THREE.OrthographicCamera(-s*k,s*k,s,-s,1,1000)
    camera.position.set(200,50,200)
    camera.lookAt(scene.position)

    //创建渲染对象
    var renderer=new THREE.WebGLRenderer();
    renderer.setSize(width,height)
    renderer.setClearColor(0xb9d3ff,1);
    document.body.appendChild(renderer.domElement)

    function render(){
      renderer.render(scene,camera);
      requestAnimationFrame(render)
    }
    render();

    var controls=new THREE.OrbitControls(camera,render.domElement);
    // controls.addEventListener('change', render);

  </script>
</body>
</html>